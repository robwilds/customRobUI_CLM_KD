<div (click)="$event.stopPropagation()" class="hxp-checkbox-filter-menu" cdkTrapFocus cdkTrapFocusAutoCapture>
    <div class="hxp-checkbox-filter-menu__container">

        <mat-checkbox
            class="hxp-checkbox-filter-menu__select-all"
            color="primary"
            [checked]="allSelected"
            [indeterminate]="someSelected"
            (change)="selectAll($event.checked)"
            data-automation-id="hxp-checkbox-filter-menu-select-all"
        >
            {{ 'FILTERS.CHECKBOX_FILTER.SELECT_ALL' | translate }}
        </mat-checkbox>

        <div class="hxp-checkbox-filter-menu__list">
            <div
                *ngFor="let option of options; trackBy: trackByValue"
                class="hxp-checkbox-filter-menu__list-item"
            >
                <mat-checkbox
                    color="primary"
                    [checked]="option.checked"
                    [value]="option.value"
                    (change)="onCheckboxChange(option)"
                    [attr.data-automation-id]="'hxp-checkbox-filter-menu-option-' + option.value"
                >
                    {{ option.label | translate }}
                </mat-checkbox>
            </div>
        </div>

    </div>

    <mat-divider class="hxp-checkbox-filter-menu__divider"></mat-divider>

    <div class="hxp-checkbox-filter-menu__actions">
        <button
            mat-button
            color="primary"
            class="hxp-checkbox-filter-menu__clear-selection-button"
            [disabled]="!selectedOptions.length"
            (click)="onClearSelection()"
            data-automation-id="hxp-filter-menu-clear-selection-button"
        >
            {{ 'FILTERS.MENU.CLEAR_SELECTION' | translate }}
        </button>
        <button
            mat-raised-button
            color="primary"
            (click)="onUpdate()"
            data-automation-id="hxp-filter-menu-update-button"
        >
            {{ 'FILTERS.MENU.UPDATE' | translate }}
        </button>
    </div>
</div>
